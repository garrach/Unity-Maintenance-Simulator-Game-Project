import{r as n,j as e,a as v,F as y,d as N}from"./app-CmMHBtRm.js";import{A as C}from"./AuthenticatedLayout-BMwXgHnR.js";import{f as w}from"./index-BFRJqtLk.js";import"./transition-t7xN9JIs.js";import"./js.cookie-Cz0CWeBA.js";const d={description:""},F=({auth:a,jobs:c,users:o})=>{const[t,l]=n.useState(""),[r,i]=n.useState(null),[m,g]=n.useState([]),[u,h]=n.useState(!0),x=c.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())),b=s=>{l(s.target.value)};n.useEffect(()=>{i(d)},[d]);const j=s=>{s.preventDefault(),h(!u)};return e.jsxs(e.Fragment,{children:[e.jsxs(C,{user:a.user,header:e.jsx("h2",{className:"dark:text-white",children:"Jobs List"}),children:[e.jsx(v,{title:"Jobs List"}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("input",{type:"text",placeholder:"Search for jobs...",value:t,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 placeholder-gray-500 text-gray-800"})}),x.length>0?e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(s=>e.jsx("li",{className:"relative dark:bg-gray-800 p-1 hover:border-2 dark:hover:border-indigo-500 rounded-lg shadow-md transition-transform transform hover:scale-105 cursor-pointer overflow-hidden",children:e.jsx(L,{job:s,users:o,setMethod:i,moreAction:g,setCloseDesV:h})},s.id))}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"No jobs found."})})]})]}),u&&typeof r=="string"&&e.jsxs("div",{class:"absolute top-56 left-1/2 transform -translate-x-1/2  dark:bg-gray-400 dark:text-gray-800 bg-gray-800 text-gray-400 text-xl px-8 py-4 rounded-md",children:[e.jsx("button",{className:"mb-2",onClick:s=>j(s),children:e.jsx(y,{icon:w})}),e.jsx("div",{className:"block max-w-screen text-center",children:f(r)["Cover Letter"]})]}),e.jsx("div",{className:"absolute bottom-0 z-40 text-gray-400",children:e.jsx("ol",{className:"flex",children:typeof r=="string"&&m.map((s,p)=>e.jsx("li",{className:"ml-4 p-4 rounded",children:`${p}) CoverLetter Of: ${s}`},p))})})]})};function f(a){const c=a.split(/\r?\n/),o={};let t="";return c.forEach(l=>{if(l.trim()!==""){const r=l.match(/([^:]+):(.*)/);if(r){const i=r[1].trim(),m=r[2].trim();i==="Cover Letter"?(t=i,o[t]=[]):o[i]=m}else t!==""&&o[t].push(l.trim())}}),o}const k=(a,c,o,t,l)=>{a.preventDefault(),d.description=c,o(d.description),t(r=>[...r,f(c).Name]),l(!0)},L=({job:a,users:c,setMethod:o,moreAction:t,setCloseDesV:l})=>e.jsx(N,{href:route("userAccount.show",{userID:c[a.id].id}),children:e.jsxs("div",{className:"dark:text-white text-gray-300 relative",children:[e.jsx("div",{className:"w-full h-56 bg-gray-900 mt-6 flex justify-center items-center",children:a.title}),e.jsx("p",{className:"text-lg font-semibold mt-2"}),e.jsx("button",{className:"hover:bg-blue-500 p-2",onClick:r=>{k(r,a.description,o,t,l)},children:"view description"})]})});export{F as default};
