import{r,j as e}from"./app-BUPJ0MyC.js";const v=({children:x})=>{const[c,l]=r.useState([]),[i,o]=r.useState(""),[a,d]=r.useState(null);document.addEventListener("DOMContentLoaded",()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{const s=document.getElementById("videoPreview");s&&(s.srcObject=t)}).catch(t=>{console.error("Error accessing camera/microphone:",t)})}),r.useEffect(()=>((async()=>{try{const s=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});d(s);const n=document.getElementById("localVideoPreview");n&&(n.srcObject=s)}catch(s){console.error("User denied camera/microphone access:",s)}})(),()=>{a&&a.getTracks().forEach(s=>s.stop())}),[]);const m=()=>{i.trim()!==""&&(l([...c,i]),o(""))},u=()=>{if(a){const t=a.getVideoTracks()[0];t.enabled=!t.enabled}},g=()=>{if(a){const t=a.getAudioTracks()[0];t.enabled=!t.enabled}};return e.jsx("div",{className:"container mx-auto bg-gray-900 h-screen flex flex-col justify-center items-center",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"bg-red-500 p-4 text-white mb-4",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Meeting"})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.map((t,s)=>e.jsx("div",{className:"bg-blue-500 p-2 text-white text-center",children:t},s))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-white",children:"Add Peer:"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:i,onChange:t=>o(t.target.value),className:"bg-gray-800 text-white p-2 mr-2 flex-grow"}),e.jsx("button",{onClick:m,className:"bg-green-500 text-white p-2",children:"Add"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("button",{onClick:u,className:"bg-blue-500 text-white p-2 mr-2",children:"Toggle Video"}),e.jsx("button",{onClick:g,className:"bg-blue-500 text-white p-2",children:"Toggle Audio"})]}),e.jsx("video",{id:"localVideoPreview",className:"mt-4 w-full h-auto border border-gray-600",autoPlay:!0,playsInline:!0,muted:!0})]})})};export{v as default};
