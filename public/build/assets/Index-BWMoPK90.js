import{q as m,r as l,W as g,j as e,a as y,d as u}from"./app-CmMHBtRm.js";import{A as N}from"./AuthenticatedLayout-BMwXgHnR.js";import"./transition-t7xN9JIs.js";import"./index-BFRJqtLk.js";import"./js.cookie-Cz0CWeBA.js";const q=({connections:n,vehicles:a,devices:v,auth:o})=>{m(),m();const[w,h]=l.useState(!0),i=l.useRef(),c=l.useRef(),{data:k,setData:D,delete:p,processing:C,reset:d,errors:R}=g({connection:i.current,device:c.current}),b=(t,s,r)=>{t.preventDefault(),i.current=s,c.current=r,p(route("connections.destroy",{connection:s,device:r}),{preserveScroll:!0,onSuccess:()=>j(),onFinish:()=>d()})},j=()=>{h(!1),d()};return e.jsx("div",{children:e.jsxs(N,{user:o.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Dashboard - ",o.user.role]}),children:[e.jsx(y,{title:"Connection List"}),e.jsxs("div",{className:"dark:text-white my-4 max-w-7xl mx-auto mt-6 p-6 bg-white dark:bg-gray-800 rounded-md shadow-md",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Connection List"}),e.jsx("ul",{className:"space-y-2",children:e.jsx("ul",{children:e.jsx("li",{children:a&&a.map((t,s)=>e.jsxs("ul",{children:[e.jsx("li",{className:"text-2xl font-bold uppercase",children:t.make}),e.jsx("li",{className:"font-bold uppercase",children:"Devices:"}),e.jsx("li",{className:"p-4 text-gray-900 rounded-md shadow-md",children:t.devices&&t.devices.map((r,f)=>e.jsx("form",{onSubmit:x=>{x.preventDefault(),b(x,n[s].id,r.id)},children:e.jsxs("ol",{className:"flex",children:[e.jsx("li",{className:"dark:text-gray-300",title:n[s].id,children:r.serial_number}),e.jsx("button",{className:"bg-red-500 ml-56 uppercase text-white px-4 py-1 rounded hover:bg-blue-600 ",children:"delete"})]})},f))},s),e.jsx("li",{children:e.jsx("div",{className:"flex space-x-2",children:e.jsx(u,{href:route("connections.show",{connection:n[s].id}),className:"bg-orange-500 text-white px-4 py-1 rounded hover:bg-blue-600 mt-4 mb-4 inline-block",children:"View"})})})]},s))})})}),e.jsx(u,{href:route("connections.create"),className:"bg-gray-800 text-white px-4 py-2 rounded-full hover:bg-blue-600 mt-4 inline-block",children:"Create Connection"})]})]})})};export{q as default};
